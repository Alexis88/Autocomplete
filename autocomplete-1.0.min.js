var autocomplete={words:[],span:null,elem:null,id:null,xhr:null,back:null,hover:null,source:null,aux:null,container:document.createElement("div"),cls:"highlight",load:function(e){this.source=e.words,this.id=e.id||"dlContainer",this.container.id=this.id,this.container.style.display="none",this.hover=e.optionHover||"gold",this.back=e.backList||"lightyellow",this.container.style.background=this.back||"lightyellow",this.container.style.border=e.borderList||".1rem peru solid",this.container.style.position="absolute",this.container.style.zIndex=9999,this.apply(e.target),document.addEventListener("DOMContentLoaded",autocomplete.ready,!1)},ready:function(){document.body.appendChild(autocomplete.container)},ajax:function(e,t){autocomplete.xhr=new XMLHttpRequest,autocomplete.xhr.open("GET",e+"?term="+t,!0),autocomplete.xhr.addEventListener("readystatechange",function(){4==autocomplete.xhr.readyState&&200==autocomplete.xhr.status&&(autocomplete.words=JSON.parse(autocomplete.xhr.responseText),autocomplete.show())},!1),autocomplete.xhr.send()},show:function(){autocomplete.container.innerHTML="",autocomplete.words.length&&(autocomplete.words.forEach(function(e){autocomplete.span=document.createElement("span"),autocomplete.span.innerHTML=e,autocomplete.span.style.display="block",autocomplete.span.style.textAlign="center",autocomplete.span.style.cursor="pointer",autocomplete.span.style.userSelect="none",autocomplete.span.style.WebKitUserSelect="none",autocomplete.span.style.MozUserSelect="none",autocomplete.span.addEventListener("mouseover",function(){(autocomplete.aux=autocomplete.container.querySelectorAll("."+autocomplete.cls)).length&&(autocomplete.aux[0].style.background=autocomplete.back||"lightyellow",autocomplete.aux[0].className=""),this.style.background=autocomplete.hover||"gold"},!1),autocomplete.span.addEventListener("mouseout",function(){this.style.background=autocomplete.back||"lightyellow"},!1),autocomplete.container.appendChild(autocomplete.span)}),autocomplete.container.style.display="block")},position:function(){autocomplete.elem&&(autocomplete.container.style.width=autocomplete.elem.offsetWidth+"px",autocomplete.container.style.left=autocomplete.elem.offsetLeft+"px",autocomplete.container.style.top=autocomplete.elem.offsetTop+autocomplete.elem.offsetHeight+"px")},write:function(e){e.length&&(autocomplete.elem=this,autocomplete.position(),"[object Array]"=={}.toString.call(autocomplete.source)?(autocomplete.words=[],autocomplete.source.forEach(function(t){t.toLowerCase().search(e.toLowerCase().trim())>-1&&-1==autocomplete.words.indexOf(t)&&autocomplete.words.push(t),autocomplete.show()})):/(php|asp|jsp|aspx)/gi.test(autocomplete.source.substr(autocomplete.source.lastIndexOf(".")+1))?autocomplete.ajax(autocomplete.source,e):(autocomplete.words=autocomplete.search.toLowerCase().search(e.toLowerCase().trim())>-1?[autocomplete.search]:[],autocomplete.show())),e.length&&autocomplete.words.length||(autocomplete.container.style.display="none")},apply:function(e){var t,o,l;window.addEventListener("keyup",function(a){/(13|37|38|39|40)/gi.test(a.keyCode)?(t=[].slice.call(autocomplete.container.querySelectorAll("span")),40==a.keyCode&&(autocomplete.container.offsetHeight?autocomplete.container.querySelectorAll("."+autocomplete.cls).length?(o=autocomplete.container.querySelector("."+autocomplete.cls),l=t.indexOf(o)+1<t.length?t[t.indexOf(o)+1]:t[0],l.className=autocomplete.cls,l.style.background=autocomplete.hover||"gold",o.className="",o.style.background=autocomplete.back||"lightyellow"):(t[0].className=autocomplete.cls,t[0].style.background=autocomplete.hover||"gold"):a.target.value.length&&autocomplete.write.call(a.target,a.target.value)),38==a.keyCode&&autocomplete.container.offsetHeight&&(autocomplete.container.querySelectorAll("."+autocomplete.cls).length?(o=autocomplete.container.querySelector("."+autocomplete.cls),l=t.indexOf(o)-1>=0?t[t.indexOf(o)-1]:t[t.length-1],l.className=autocomplete.cls,l.style.background=autocomplete.hover||"gold",o.className="",o.style.background=autocomplete.back||"lightyellow"):(t[t.length-1].className=autocomplete.cls,t[t.length-1].style.background=autocomplete.hover||"gold")),13==a.keyCode&&autocomplete.container.offsetHeight&&((o=autocomplete.container.querySelector("."+autocomplete.cls))?(autocomplete.elem.value=o.innerHTML,autocomplete.container.style.display="none"):autocomplete.container.style.display="none")):(a.target.className==e||a.target.id==e)&&autocomplete.write.call(a.target,a.target.value)},!1),window.addEventListener("click",function(){event.target.id!=autocomplete.id&&event.target.parentNode.id!=autocomplete.id&&(autocomplete.container.style.display="none"),event.target.parentNode.id==autocomplete.id&&(autocomplete.elem.value=event.target.innerHTML,autocomplete.container.style.display="none")},!1),window.addEventListener("resize",autocomplete.position,!1)}};
